<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap"
	rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Rubik+Glitch+Pop&display=swap" rel="stylesheet">

<!-- Bootstrap core CSS -->
<!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous"> -->
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
	integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ=="
	crossorigin="anonymous" referrerpolicy="no-referrer" />


<style>
	body {
		background: #27292a;
	}

	* {
		font-family: 'Poppins', sans-serif;
	}

	.form-control:focus {
		box-shadow: none;
		border-color: #5e86e755 !important;
	}

	.profile-button {
		background: #5e86e7;
		box-shadow: none;
		border: none;
	}

	.profile-button:hover,
	.profile-button:focus,
	.profile-button:active {
		outline: none;
		background: #5e86e7dd !important;
		box-shadow: none;
	}

	#edit-form input {
		border-color: #1f2122 !important;
		background-color: #27292a !important;
	}

	.text-white {
		color: #ddd !important;
	}

	.text-white-50 {
		color: #888 !important;
	}

	#edit-form {
		margin-top: 50% !important;
	}

	.edit-avatar {
		margin: auto;
		position: relative;
		display: block;
		height: 10rem;
		width: 10rem;
		border-radius: 50%;

		overflow: hidden;
		margin-bottom: 0.5em;

		background-image: url('<%= user.avatar %>');
		background-position: center;
		background-repeat: no-repeat;
		background-size: cover;
	}

	.edit-avatar .avatar-overlay {
		width: 100%;
		height: 100%;
		position: absolute;
		left: 50%;
		top: 50%;
		transform: translate(-50%, -50%);
		opacity: 0;
		background-color: #3339;
		cursor: pointer;
		transition: 0.7s ease-in-out;
	}

	.edit-avatar .avatar-overlay:hover {
		opacity: 0.8;
	}

	.edit-avatar .avatar-overlay i {
		font-size: 1.25rem;
		color: #eee;
		display: block;
		position: absolute;
		left: 50%;
		top: 50%;
		transform: translate(-50%, -50%);
		z-index: 10000;
	}

	.spinner-overlay {
		width: 100%;
		height: 100%;
		position: absolute;
		left: 0;
		top: 0;
		display: block;
		background-color: #fff1;
		pointer-events: auto;
		z-index: 10001 !important;
		opacity: 0.5;
	}

	.spinner {
		color: #5e86e7 !important;
		display: block;
		position: absolute;
		left: 45.5%;
		top: 45%;

		font-size: 1rem;
		width: 2.5rem;
		height: 2.5rem;
	}
</style>

<div class="modal-dialog">

	<form id="edit-form" class="upload-container modal-content"
		style="background-color: #1f2122 !important; border-radius: 15px !important;">

		<div class="spinner-overlay" style="display: none">
			<div class="spinner-border text-primary spinner" role="status">
				<span class="sr-only">Loading...</span>
			</div>
		</div>

		<div class="modal-body" style="background-color: #1f2122 !important; border-radius: 7px !important;">
			<div class="container rounded bg-white d-flex flex-row align-items-end"
				style="width: 100%; background-color: #1f2122 !important; padding: 0; justify-content: space-between; gap: 0.5em;">
				<input type="hidden" name="originalEmail" value="<%= user.email %>" style="display: none">
				<div class="col-md-6 border-right" style="border-color: #333 !important;">
					<div class="d-flex flex-column align-items-center text-center">
						<div class="edit-avatar" data-img="/assets/images/logo.png" data-type="image">
							<div class="avatar-overlay">
								<i class="fas fa-edit"></i>
							</div>
							<input type="hidden" name="avatar" value="<%= user.avatar %>" style="display: none">
						</div>
						<input id="thumbnail-upload" name="file"  accept="image/*" type="file" style="display: none">
						<span class="text-white font-weight-bold text-truncate" style="width: 100%; display: block;"><%= user.name %></span>
						<span class="text-white-50 text-truncate" style="width: 100%; display: block;"><%= user.email %></span>
					</div>
				</div>
				<div class="col-md-6">
					<div class="row my-3">
						<div class="col-md-12 d-flex flex-row align-items-center">
							<i class="fa fa-long-arrow-left mr-1 mb-1"></i>
							<h5 class="text-white text font-weight-bold">Edit Profile</h5>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<input name="name" type="text" class="form-control" value="<%= user.name %>">
						</div>
					</div>
					<div class="row mt-3">
						<div class="col-md-12">
							<input name="email" type="text" class="form-control" value="<%= user.email %>">
						</div>
					</div>
					<div class="mt-4 text-right">
						<button class="btn btn-primary profile-button" type="submit" style="font-weight: 500;">
							<i class="fas fa-save"></i> &nbsp;Save
						</button>
					</div>
				</div>
			</div>
		</div>

	</form>
</div>